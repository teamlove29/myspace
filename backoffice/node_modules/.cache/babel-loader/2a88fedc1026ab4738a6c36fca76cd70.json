{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar intl_utils_1 = require(\"@formatjs/intl-utils\");\n\nfunction unpackData(locale, localeData) {\n  var localeHierarchy = intl_utils_1.getLocaleHierarchy(locale, localeData.aliases, localeData.parentLocales);\n  var dataToMerge = localeHierarchy.map(function (l) {\n    return localeData.data[l];\n  }).filter(Boolean);\n\n  if (!dataToMerge.length) {\n    throw new Error(\"Missing locale data for \\\"\" + locale + \"\\\", lookup hierarchy: \" + localeHierarchy.join(', '));\n  }\n\n  dataToMerge.reverse();\n  return dataToMerge.reduce(function (all, d) {\n    return __assign(__assign({}, all), d);\n  }, {\n    nu: []\n  });\n}\n/**\n * https://tc39.es/proposal-intl-relative-time/#sec-singularrelativetimeunit\n * @param unit\n */\n\n\nfunction singularRelativeTimeUnit(unit) {\n  intl_utils_1.invariant(typeof unit === 'string', \"unit must be a string, instead got \" + typeof unit, TypeError);\n  if (unit === 'seconds') return 'second';\n  if (unit === 'minutes') return 'minute';\n  if (unit === 'hours') return 'hour';\n  if (unit === 'days') return 'day';\n  if (unit === 'weeks') return 'week';\n  if (unit === 'months') return 'month';\n  if (unit === 'quarters') return 'quarter';\n  if (unit === 'years') return 'year';\n\n  if (unit !== 'second' && unit !== 'minute' && unit !== 'hour' && unit !== 'day' && unit !== 'week' && unit !== 'month' && unit !== 'quarter' && unit !== 'year') {\n    throw new RangeError(\"Invalid unit \" + unit);\n  }\n\n  return unit;\n}\n\nvar NUMBERING_SYSTEM_REGEX = /^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;\n/**\n * https://tc39.es/proposal-intl-relative-time/#sec-makepartslist\n * @param pattern\n * @param unit\n * @param parts\n */\n\nfunction makePartsList(pattern, unit, parts) {\n  var e_1, _a, e_2, _b;\n\n  var patternParts = intl_utils_1.partitionPattern(pattern);\n  var result = [];\n\n  try {\n    for (var patternParts_1 = __values(patternParts), patternParts_1_1 = patternParts_1.next(); !patternParts_1_1.done; patternParts_1_1 = patternParts_1.next()) {\n      var patternPart = patternParts_1_1.value;\n\n      if (intl_utils_1.isLiteralPart(patternPart)) {\n        result.push({\n          type: 'literal',\n          value: patternPart.value\n        });\n      } else {\n        intl_utils_1.invariant(patternPart.type === '0', \"Malformed pattern \" + pattern);\n\n        try {\n          for (var parts_1 = (e_2 = void 0, __values(parts)), parts_1_1 = parts_1.next(); !parts_1_1.done; parts_1_1 = parts_1.next()) {\n            var part = parts_1_1.value;\n            result.push({\n              type: part.type,\n              value: part.value,\n              unit: unit\n            });\n          }\n        } catch (e_2_1) {\n          e_2 = {\n            error: e_2_1\n          };\n        } finally {\n          try {\n            if (parts_1_1 && !parts_1_1.done && (_b = parts_1.return)) _b.call(parts_1);\n          } finally {\n            if (e_2) throw e_2.error;\n          }\n        }\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (patternParts_1_1 && !patternParts_1_1.done && (_a = patternParts_1.return)) _a.call(patternParts_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return result;\n}\n\nfunction objectIs(x, y) {\n  if (Object.is) {\n    return Object.is(x, y);\n  } // SameValue algorithm\n\n\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return x !== 0 || 1 / x === 1 / y;\n  } // Step 6.a: NaN == NaN\n\n\n  return x !== x && y !== y;\n}\n\nfunction toString(arg) {\n  return arg + '';\n}\n/**\n * PartitionRelativeTimePattern\n * @param rtf\n * @param value\n * @param unit\n */\n\n\nfunction partitionRelativeTimePattern(internalSlotMap, rtf, value, unit) {\n  intl_utils_1.invariant(typeof value === 'number', \"value must be number, instead got \" + typeof value, TypeError);\n  intl_utils_1.invariant(typeof unit === 'string', \"unit must be number, instead got \" + typeof value, TypeError);\n\n  if (isNaN(value) || value === Infinity || value === -Infinity) {\n    throw new RangeError(\"Invalid value \" + value);\n  }\n\n  var resolvedUnit = singularRelativeTimeUnit(unit);\n  var fields = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'fields');\n  var style = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'style');\n  var entry = resolvedUnit;\n\n  if (style === 'short') {\n    entry = unit + \"-short\";\n  } else if (style === 'narrow') {\n    entry = unit + \"-narrow\";\n  }\n\n  if (!(entry in fields)) {\n    entry = unit;\n  }\n\n  var patterns = fields[entry];\n  var numeric = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'numeric');\n\n  if (numeric === 'auto') {\n    if (toString(value) in patterns) {\n      return [{\n        type: 'literal',\n        value: patterns[toString(value)]\n      }];\n    }\n  }\n\n  var tl = 'future';\n\n  if (objectIs(value, -0) || value < 0) {\n    tl = 'past';\n  }\n\n  var po = patterns[tl];\n  var pluralRules = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'pluralRules');\n  var numberFormat = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'numberFormat');\n  var fv = typeof numberFormat.formatToParts === 'function' ? numberFormat.formatToParts(Math.abs(value)) : // TODO: If formatToParts is not supported, we assume the whole formatted\n  // number is a part\n  [{\n    type: 'literal',\n    value: numberFormat.format(Math.abs(value)),\n    unit: unit\n  }];\n  var pr = pluralRules.select(value);\n  var pattern = po[pr];\n  return makePartsList(pattern, resolvedUnit, fv);\n}\n\nvar RelativeTimeFormat =\n/** @class */\nfunction () {\n  function RelativeTimeFormat(locales, options) {\n    // test262/test/intl402/RelativeTimeFormat/constructor/constructor/newtarget-undefined.js\n    // Cannot use `new.target` bc of IE11 & TS transpiles it to something else\n    var newTarget = this && this instanceof RelativeTimeFormat ? this.constructor : void 0;\n\n    if (!newTarget) {\n      throw new TypeError(\"Intl.RelativeTimeFormat must be called with 'new'\");\n    }\n\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat', true);\n    var requestedLocales = intl_utils_1.getCanonicalLocales(locales);\n    var opt = Object.create(null);\n    var opts = options === undefined ? Object.create(null) : intl_utils_1.toObject(options);\n    var matcher = intl_utils_1.getOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n    opt.localeMatcher = matcher;\n    var numberingSystem = intl_utils_1.getOption(opts, 'numberingSystem', 'string', undefined, undefined);\n\n    if (numberingSystem !== undefined) {\n      if (!NUMBERING_SYSTEM_REGEX.test(numberingSystem)) {\n        throw new RangeError(\"Invalid numbering system \" + numberingSystem);\n      }\n    }\n\n    opt.nu = numberingSystem;\n    var r = intl_utils_1.createResolveLocale(RelativeTimeFormat.getDefaultLocale)(RelativeTimeFormat.availableLocales, requestedLocales, opt, RelativeTimeFormat.relevantExtensionKeys, RelativeTimeFormat.localeData);\n    var locale = r.locale,\n        nu = r.nu;\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'locale', locale);\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'style', intl_utils_1.getOption(opts, 'style', 'string', ['long', 'narrow', 'short'], 'long'));\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numeric', intl_utils_1.getOption(opts, 'numeric', 'string', ['always', 'auto'], 'always'));\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'fields', RelativeTimeFormat.localeData[locale]);\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numberFormat', new Intl.NumberFormat(locales));\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'pluralRules', new Intl.PluralRules(locales));\n    intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numberingSystem', nu);\n  }\n\n  RelativeTimeFormat.prototype.format = function (value, unit) {\n    if (typeof this !== 'object') {\n      throw new TypeError('format was called on a non-object');\n    }\n\n    if (!intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat')) {\n      throw new TypeError('format was called on a invalid context');\n    }\n\n    return partitionRelativeTimePattern(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, Number(value), toString(unit)).map(function (el) {\n      return el.value;\n    }).join('');\n  };\n\n  RelativeTimeFormat.prototype.formatToParts = function (value, unit) {\n    if (typeof this !== 'object') {\n      throw new TypeError('formatToParts was called on a non-object');\n    }\n\n    if (!intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat')) {\n      throw new TypeError('formatToParts was called on a invalid context');\n    }\n\n    return partitionRelativeTimePattern(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, Number(value), toString(unit));\n  };\n\n  RelativeTimeFormat.prototype.resolvedOptions = function () {\n    if (typeof this !== 'object') {\n      throw new TypeError('resolvedOptions was called on a non-object');\n    }\n\n    if (!intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat')) {\n      throw new TypeError('resolvedOptions was called on a invalid context');\n    } // test262/test/intl402/RelativeTimeFormat/prototype/resolvedOptions/type.js\n\n\n    return {\n      locale: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'locale'),\n      style: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'style'),\n      numeric: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numeric'),\n      numberingSystem: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numberingSystem')\n    };\n  };\n\n  RelativeTimeFormat.supportedLocalesOf = function (locales, options) {\n    return intl_utils_1.supportedLocales(RelativeTimeFormat.availableLocales, intl_utils_1.getCanonicalLocales(locales), options);\n  };\n\n  RelativeTimeFormat.__addLocaleData = function () {\n    var e_3, _a;\n\n    var data = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      data[_i] = arguments[_i];\n    }\n\n    var _loop_1 = function (datum) {\n      var availableLocales = Object.keys(__spread(datum.availableLocales, Object.keys(datum.aliases), Object.keys(datum.parentLocales)).reduce(function (all, k) {\n        all[k] = true;\n        return all;\n      }, {}));\n      availableLocales.forEach(function (locale) {\n        try {\n          RelativeTimeFormat.localeData[locale] = unpackData(locale, datum);\n        } catch (e) {// If we can't unpack this data, ignore the locale\n        }\n      });\n    };\n\n    try {\n      for (var data_1 = __values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {\n        var datum = data_1_1.value;\n\n        _loop_1(datum);\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (data_1_1 && !data_1_1.done && (_a = data_1.return)) _a.call(data_1);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    RelativeTimeFormat.availableLocales = Object.keys(RelativeTimeFormat.localeData);\n\n    if (!RelativeTimeFormat.__defaultLocale) {\n      RelativeTimeFormat.__defaultLocale = RelativeTimeFormat.availableLocales[0];\n    }\n  };\n\n  RelativeTimeFormat.getDefaultLocale = function () {\n    return RelativeTimeFormat.__defaultLocale;\n  };\n\n  RelativeTimeFormat.localeData = {};\n  RelativeTimeFormat.availableLocales = [];\n  RelativeTimeFormat.__defaultLocale = 'en';\n  RelativeTimeFormat.relevantExtensionKeys = ['nu'];\n  RelativeTimeFormat.polyfilled = true;\n  RelativeTimeFormat.__INTERNAL_SLOT_MAP__ = new WeakMap();\n  return RelativeTimeFormat;\n}();\n\nexports.default = RelativeTimeFormat;\n\ntry {\n  // IE11 does not have Symbol\n  if (typeof Symbol !== 'undefined') {\n    Object.defineProperty(RelativeTimeFormat.prototype, Symbol.toStringTag, {\n      value: 'Intl.RelativeTimeFormat',\n      writable: false,\n      enumerable: false,\n      configurable: true\n    });\n  } // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/length.js\n\n\n  Object.defineProperty(RelativeTimeFormat.prototype.constructor, 'length', {\n    value: 0,\n    writable: false,\n    enumerable: false,\n    configurable: true\n  }); // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/supportedLocalesOf/length.js\n\n  Object.defineProperty(RelativeTimeFormat.supportedLocalesOf, 'length', {\n    value: 1,\n    writable: false,\n    enumerable: false,\n    configurable: true\n  });\n} catch (e) {} // Meta fix so we're test262-compliant, not important","map":{"version":3,"sources":["../src/core.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar intl_utils_1 = require(\"@formatjs/intl-utils\");\nfunction unpackData(locale, localeData) {\n    var localeHierarchy = intl_utils_1.getLocaleHierarchy(locale, localeData.aliases, localeData.parentLocales);\n    var dataToMerge = localeHierarchy\n        .map(function (l) { return localeData.data[l]; })\n        .filter(Boolean);\n    if (!dataToMerge.length) {\n        throw new Error(\"Missing locale data for \\\"\" + locale + \"\\\", lookup hierarchy: \" + localeHierarchy.join(', '));\n    }\n    dataToMerge.reverse();\n    return dataToMerge.reduce(function (all, d) { return (__assign(__assign({}, all), d)); }, { nu: [] });\n}\n/**\n * https://tc39.es/proposal-intl-relative-time/#sec-singularrelativetimeunit\n * @param unit\n */\nfunction singularRelativeTimeUnit(unit) {\n    intl_utils_1.invariant(typeof unit === 'string', \"unit must be a string, instead got \" + typeof unit, TypeError);\n    if (unit === 'seconds')\n        return 'second';\n    if (unit === 'minutes')\n        return 'minute';\n    if (unit === 'hours')\n        return 'hour';\n    if (unit === 'days')\n        return 'day';\n    if (unit === 'weeks')\n        return 'week';\n    if (unit === 'months')\n        return 'month';\n    if (unit === 'quarters')\n        return 'quarter';\n    if (unit === 'years')\n        return 'year';\n    if (unit !== 'second' &&\n        unit !== 'minute' &&\n        unit !== 'hour' &&\n        unit !== 'day' &&\n        unit !== 'week' &&\n        unit !== 'month' &&\n        unit !== 'quarter' &&\n        unit !== 'year') {\n        throw new RangeError(\"Invalid unit \" + unit);\n    }\n    return unit;\n}\nvar NUMBERING_SYSTEM_REGEX = /^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;\n/**\n * https://tc39.es/proposal-intl-relative-time/#sec-makepartslist\n * @param pattern\n * @param unit\n * @param parts\n */\nfunction makePartsList(pattern, unit, parts) {\n    var e_1, _a, e_2, _b;\n    var patternParts = intl_utils_1.partitionPattern(pattern);\n    var result = [];\n    try {\n        for (var patternParts_1 = __values(patternParts), patternParts_1_1 = patternParts_1.next(); !patternParts_1_1.done; patternParts_1_1 = patternParts_1.next()) {\n            var patternPart = patternParts_1_1.value;\n            if (intl_utils_1.isLiteralPart(patternPart)) {\n                result.push({\n                    type: 'literal',\n                    value: patternPart.value,\n                });\n            }\n            else {\n                intl_utils_1.invariant(patternPart.type === '0', \"Malformed pattern \" + pattern);\n                try {\n                    for (var parts_1 = (e_2 = void 0, __values(parts)), parts_1_1 = parts_1.next(); !parts_1_1.done; parts_1_1 = parts_1.next()) {\n                        var part = parts_1_1.value;\n                        result.push({\n                            type: part.type,\n                            value: part.value,\n                            unit: unit,\n                        });\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (parts_1_1 && !parts_1_1.done && (_b = parts_1.return)) _b.call(parts_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (patternParts_1_1 && !patternParts_1_1.done && (_a = patternParts_1.return)) _a.call(patternParts_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return result;\n}\nfunction objectIs(x, y) {\n    if (Object.is) {\n        return Object.is(x, y);\n    }\n    // SameValue algorithm\n    if (x === y) {\n        // Steps 1-5, 7-10\n        // Steps 6.b-6.e: +0 != -0\n        return x !== 0 || 1 / x === 1 / y;\n    }\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n}\nfunction toString(arg) {\n    return arg + '';\n}\n/**\n * PartitionRelativeTimePattern\n * @param rtf\n * @param value\n * @param unit\n */\nfunction partitionRelativeTimePattern(internalSlotMap, rtf, value, unit) {\n    intl_utils_1.invariant(typeof value === 'number', \"value must be number, instead got \" + typeof value, TypeError);\n    intl_utils_1.invariant(typeof unit === 'string', \"unit must be number, instead got \" + typeof value, TypeError);\n    if (isNaN(value) || value === Infinity || value === -Infinity) {\n        throw new RangeError(\"Invalid value \" + value);\n    }\n    var resolvedUnit = singularRelativeTimeUnit(unit);\n    var fields = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'fields');\n    var style = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'style');\n    var entry = resolvedUnit;\n    if (style === 'short') {\n        entry = unit + \"-short\";\n    }\n    else if (style === 'narrow') {\n        entry = unit + \"-narrow\";\n    }\n    if (!(entry in fields)) {\n        entry = unit;\n    }\n    var patterns = fields[entry];\n    var numeric = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'numeric');\n    if (numeric === 'auto') {\n        if (toString(value) in patterns) {\n            return [\n                {\n                    type: 'literal',\n                    value: patterns[toString(value)],\n                },\n            ];\n        }\n    }\n    var tl = 'future';\n    if (objectIs(value, -0) || value < 0) {\n        tl = 'past';\n    }\n    var po = patterns[tl];\n    var pluralRules = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'pluralRules');\n    var numberFormat = intl_utils_1.getInternalSlot(internalSlotMap, rtf, 'numberFormat');\n    var fv = typeof numberFormat.formatToParts === 'function'\n        ? numberFormat.formatToParts(Math.abs(value))\n        : // TODO: If formatToParts is not supported, we assume the whole formatted\n            // number is a part\n            [\n                {\n                    type: 'literal',\n                    value: numberFormat.format(Math.abs(value)),\n                    unit: unit,\n                },\n            ];\n    var pr = pluralRules.select(value);\n    var pattern = po[pr];\n    return makePartsList(pattern, resolvedUnit, fv);\n}\nvar RelativeTimeFormat = /** @class */ (function () {\n    function RelativeTimeFormat(locales, options) {\n        // test262/test/intl402/RelativeTimeFormat/constructor/constructor/newtarget-undefined.js\n        // Cannot use `new.target` bc of IE11 & TS transpiles it to something else\n        var newTarget = this && this instanceof RelativeTimeFormat ? this.constructor : void 0;\n        if (!newTarget) {\n            throw new TypeError(\"Intl.RelativeTimeFormat must be called with 'new'\");\n        }\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat', true);\n        var requestedLocales = intl_utils_1.getCanonicalLocales(locales);\n        var opt = Object.create(null);\n        var opts = options === undefined ? Object.create(null) : intl_utils_1.toObject(options);\n        var matcher = intl_utils_1.getOption(opts, 'localeMatcher', 'string', ['best fit', 'lookup'], 'best fit');\n        opt.localeMatcher = matcher;\n        var numberingSystem = intl_utils_1.getOption(opts, 'numberingSystem', 'string', undefined, undefined);\n        if (numberingSystem !== undefined) {\n            if (!NUMBERING_SYSTEM_REGEX.test(numberingSystem)) {\n                throw new RangeError(\"Invalid numbering system \" + numberingSystem);\n            }\n        }\n        opt.nu = numberingSystem;\n        var r = intl_utils_1.createResolveLocale(RelativeTimeFormat.getDefaultLocale)(RelativeTimeFormat.availableLocales, requestedLocales, opt, RelativeTimeFormat.relevantExtensionKeys, RelativeTimeFormat.localeData);\n        var locale = r.locale, nu = r.nu;\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'locale', locale);\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'style', intl_utils_1.getOption(opts, 'style', 'string', ['long', 'narrow', 'short'], 'long'));\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numeric', intl_utils_1.getOption(opts, 'numeric', 'string', ['always', 'auto'], 'always'));\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'fields', RelativeTimeFormat.localeData[locale]);\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numberFormat', new Intl.NumberFormat(locales));\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'pluralRules', new Intl.PluralRules(locales));\n        intl_utils_1.setInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numberingSystem', nu);\n    }\n    RelativeTimeFormat.prototype.format = function (value, unit) {\n        if (typeof this !== 'object') {\n            throw new TypeError('format was called on a non-object');\n        }\n        if (!intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat')) {\n            throw new TypeError('format was called on a invalid context');\n        }\n        return partitionRelativeTimePattern(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, Number(value), toString(unit))\n            .map(function (el) { return el.value; })\n            .join('');\n    };\n    RelativeTimeFormat.prototype.formatToParts = function (value, unit) {\n        if (typeof this !== 'object') {\n            throw new TypeError('formatToParts was called on a non-object');\n        }\n        if (!intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat')) {\n            throw new TypeError('formatToParts was called on a invalid context');\n        }\n        return partitionRelativeTimePattern(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, Number(value), toString(unit));\n    };\n    RelativeTimeFormat.prototype.resolvedOptions = function () {\n        if (typeof this !== 'object') {\n            throw new TypeError('resolvedOptions was called on a non-object');\n        }\n        if (!intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'initializedRelativeTimeFormat')) {\n            throw new TypeError('resolvedOptions was called on a invalid context');\n        }\n        // test262/test/intl402/RelativeTimeFormat/prototype/resolvedOptions/type.js\n        return {\n            locale: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'locale'),\n            style: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'style'),\n            numeric: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numeric'),\n            numberingSystem: intl_utils_1.getInternalSlot(RelativeTimeFormat.__INTERNAL_SLOT_MAP__, this, 'numberingSystem'),\n        };\n    };\n    RelativeTimeFormat.supportedLocalesOf = function (locales, options) {\n        return intl_utils_1.supportedLocales(RelativeTimeFormat.availableLocales, intl_utils_1.getCanonicalLocales(locales), options);\n    };\n    RelativeTimeFormat.__addLocaleData = function () {\n        var e_3, _a;\n        var data = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            data[_i] = arguments[_i];\n        }\n        var _loop_1 = function (datum) {\n            var availableLocales = Object.keys(__spread(datum.availableLocales, Object.keys(datum.aliases), Object.keys(datum.parentLocales)).reduce(function (all, k) {\n                all[k] = true;\n                return all;\n            }, {}));\n            availableLocales.forEach(function (locale) {\n                try {\n                    RelativeTimeFormat.localeData[locale] = unpackData(locale, datum);\n                }\n                catch (e) {\n                    // If we can't unpack this data, ignore the locale\n                }\n            });\n        };\n        try {\n            for (var data_1 = __values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {\n                var datum = data_1_1.value;\n                _loop_1(datum);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (data_1_1 && !data_1_1.done && (_a = data_1.return)) _a.call(data_1);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        RelativeTimeFormat.availableLocales = Object.keys(RelativeTimeFormat.localeData);\n        if (!RelativeTimeFormat.__defaultLocale) {\n            RelativeTimeFormat.__defaultLocale =\n                RelativeTimeFormat.availableLocales[0];\n        }\n    };\n    RelativeTimeFormat.getDefaultLocale = function () {\n        return RelativeTimeFormat.__defaultLocale;\n    };\n    RelativeTimeFormat.localeData = {};\n    RelativeTimeFormat.availableLocales = [];\n    RelativeTimeFormat.__defaultLocale = 'en';\n    RelativeTimeFormat.relevantExtensionKeys = ['nu'];\n    RelativeTimeFormat.polyfilled = true;\n    RelativeTimeFormat.__INTERNAL_SLOT_MAP__ = new WeakMap();\n    return RelativeTimeFormat;\n}());\nexports.default = RelativeTimeFormat;\ntry {\n    // IE11 does not have Symbol\n    if (typeof Symbol !== 'undefined') {\n        Object.defineProperty(RelativeTimeFormat.prototype, Symbol.toStringTag, {\n            value: 'Intl.RelativeTimeFormat',\n            writable: false,\n            enumerable: false,\n            configurable: true,\n        });\n    }\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/length.js\n    Object.defineProperty(RelativeTimeFormat.prototype.constructor, 'length', {\n        value: 0,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n    // https://github.com/tc39/test262/blob/master/test/intl402/RelativeTimeFormat/constructor/supportedLocalesOf/length.js\n    Object.defineProperty(RelativeTimeFormat.supportedLocalesOf, 'length', {\n        value: 1,\n        writable: false,\n        enumerable: false,\n        configurable: true,\n    });\n}\ncatch (e) {\n    // Meta fix so we're test262-compliant, not important\n}\n//# sourceMappingURL=core.js.map"]},"metadata":{},"sourceType":"script"}
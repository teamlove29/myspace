{"ast":null,"code":"var _jsxFileName = \"/Users/teem/Developer/lampang-myspace/backoffice/src/pages/user/AddUser.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport firebase from \"../../config/config\";\nimport Axios from \"axios\";\nimport { Success } from \"../../components/modal/ModalSuccess\";\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\nexport default function AddUser(props) {\n  const history = useHistory();\n  const MySwal = withReactContent(Swal);\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [show, setShow] = useState(true);\n\n  const handleClose = () => {\n    setShow(false);\n    setTimeout(() => {\n      history.goBack();\n    }, 100);\n  };\n\n  const handleShow = () => setShow(true);\n\n  useEffect(() => {\n    handleShow();\n  }, [props.show]);\n  const initialValues = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n    role: ''\n  };\n\n  const enableLoading = () => {\n    setLoading(true);\n  };\n\n  const disableLoading = () => {\n    setLoading(false);\n  };\n\n  const getInputClasses = fieldname => {\n    if (formik.touched[fieldname] && formik.errors[fieldname]) {\n      return \"is-invalid\";\n    }\n\n    if (formik.touched[fieldname] && !formik.errors[fieldname]) {\n      return \"is-valid\";\n    }\n\n    return \"\";\n  };\n\n  const handleedit = (value, {\n    setStatus,\n    setSubmitting\n  }) => {\n    const username = value.username;\n    const email = value.email;\n    const password = value.password; // Axios.post('http://localhost:5001/myspace-dev-1ae9e/us-central1/backoffice-user/newUser'\n    // ,{email,password,phone,firstName,lastName})\n    // .then((res) => {\n    //   setStatus('Success !')\n    //   formik.handleReset()\n    // }).catch((err) => {\n    //   var errorCode = err.code;\n    //   var errorMessage = err.message;\n    //   setStatus(errorCode)\n    //   console.log(errorMessage)\n    // })\n\n    console.log(value);\n    Success();\n    disableLoading();\n    setSubmitting(false);\n    formik.handleReset();\n    handleClose(); //  MySwal.fire({\n    //   position: 'center',\n    //   icon: \"success\",\n    //   title: <h1 className=\"display-3\">success</h1>,\n    //   showConfirmButton: false,\n    // }).then(() => {\n    //   disableLoading()\n    //   setSubmitting(false);\n    //   formik.handleReset()\n    // })\n  };\n\n  const Userchema = Yup.object().shape({\n    username: Yup.string().min(3, \"Minimum 3 symbols\").max(50, \"Maximum 50 symbols\").required(\"Required\"),\n    email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n    password: Yup.string().oneOf([Yup.ref(\"passwordConfirmation\"), null], \"Passwords must match\").min(6, \"Minimum 6 symbols\").required(\"Required\"),\n    passwordConfirmation: Yup.string().oneOf([Yup.ref(\"password\"), null], \"Passwords must match\").min(6, \"Minimum 6 symbols\").required(\"Required\"),\n    role: Yup.string().required(\"Required\")\n  });\n  const formik = useFormik({\n    initialValues,\n    validationSchema: Userchema,\n    onSubmit: (value, {\n      setStatus,\n      setSubmitting\n    }) => {\n      enableLoading();\n      setTimeout(() => {\n        handleedit(value, {\n          setStatus,\n          setSubmitting\n        });\n      }, 1000);\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    size: \"lg\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, \"New User\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-12 col-xxl-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, formik.status ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-10 alert alert-custom alert-light-danger alert-dismissible\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert-text font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, formik.status)) : null, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formik.handleSubmit,\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-xl-3 col-lg-3 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xl-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    className: `form-control form-control-lg  ${getInputClasses(\"username\")}`,\n    name: \"username\",\n    type: \"text\",\n    placeholder: \"username\"\n  }, formik.getFieldProps(\"username\"), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 27\n    }\n  })), formik.touched.username && formik.errors.username ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-plugins-message-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-help-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 31\n    }\n  }, formik.errors.username)) : null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-xl-3 col-lg-3 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xl-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    name: \"email\",\n    type: \"email\",\n    className: `form-control form-control-lg  ${getInputClasses(\"email\")}`,\n    name: \"email\",\n    placeholder: \"Email\"\n  }, formik.getFieldProps(\"email\"), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 29\n    }\n  })), formik.touched.email && formik.errors.email ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-plugins-message-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-help-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 31\n    }\n  }, formik.errors.email)) : null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-xl-3 col-lg-3 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 25\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xl-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    name: \"password\",\n    type: \"password\",\n    className: `form-control form-control-lg  ${getInputClasses(\"password\")}`,\n    name: \"password\",\n    placeholder: \"password\"\n  }, formik.getFieldProps(\"password\"), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 27\n    }\n  })), formik.touched.password && formik.errors.password ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-plugins-message-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-help-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 31\n    }\n  }, formik.errors.password)) : null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-xl-3 col-lg-3 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 25\n    }\n  }, \"passwordConfirmation\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xl-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    name: \"passwordConfirmation\",\n    type: \"password\",\n    className: `form-control form-control-lg  ${getInputClasses(\"passwordConfirmation\")}`,\n    name: \"passwordConfirmation\",\n    placeholder: \"passwordConfirmation\"\n  }, formik.getFieldProps(\"passwordConfirmation\"), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 27\n    }\n  })), formik.touched.passwordConfirmation && formik.errors.passwordConfirmation ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-plugins-message-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-help-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 31\n    }\n  }, formik.errors.passwordConfirmation)) : null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-xl-3 col-lg-3 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 27\n    }\n  }, \"role :\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 col-xl-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    name: \"role\",\n    type: \"text\",\n    className: `form-control form-control-lg  ${getInputClasses(\"role\")}`,\n    readOnly: \"true\",\n    placeholder: \"role\"\n  }, formik.getFieldProps(\"role\"), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 31\n    }\n  })), formik.touched.role && formik.errors.role ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-plugins-message-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-help-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 35\n    }\n  }, formik.errors.role)) : null)))))))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => handleClose(),\n    variant: \"secondary\",\n    className: \"btn btn-secondary font-weight-bold px-9 py-4 mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 11\n    }\n  }, \"cancel\"), /*#__PURE__*/React.createElement(Button, {\n    id: \"kt_login_signin_submit\",\n    type: \"submit\",\n    className: `btn btn-success font-weight-bold px-9 py-4 my-3`,\n    disabled: formik.isSubmitting,\n    variant: \"success\",\n    onClick: formik.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 11\n    }\n  }, \"submit\", loading && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-3 spinner spinner-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 25\n    }\n  })))));\n}","map":{"version":3,"sources":["/Users/teem/Developer/lampang-myspace/backoffice/src/pages/user/AddUser.js"],"names":["React","useState","useEffect","useFormik","Yup","Modal","Button","useHistory","Redirect","firebase","Axios","Success","Swal","withReactContent","AddUser","props","history","MySwal","loading","setLoading","success","setSuccess","show","setShow","handleClose","setTimeout","goBack","handleShow","initialValues","username","email","password","passwordConfirmation","role","enableLoading","disableLoading","getInputClasses","fieldname","formik","touched","errors","handleedit","value","setStatus","setSubmitting","console","log","handleReset","Userchema","object","shape","string","min","max","required","oneOf","ref","validationSchema","onSubmit","status","handleSubmit","getFieldProps","isSubmitting"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,QAA1B;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,iBAA9B;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,kBAArC;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,qCAAxB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,gBAAP,MAA6B,2BAA7B;AAEA,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACrC,QAAMC,OAAO,GAAGT,UAAU,EAA1B;AACA,QAAMU,MAAM,GAAGJ,gBAAgB,CAACD,IAAD,CAA/B;AACA,QAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBlB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACmB,OAAD,EAAUC,UAAV,IAAwBpB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACqB,IAAD,EAAOC,OAAP,IAAkBtB,QAAQ,CAAC,IAAD,CAAhC;;AACA,QAAMuB,WAAW,GAAG,MAAM;AACxBD,IAAAA,OAAO,CAAC,KAAD,CAAP;AACAE,IAAAA,UAAU,CAAC,MAAM;AACfT,MAAAA,OAAO,CAACU,MAAR;AACD,KAFS,EAEP,GAFO,CAAV;AAGH,GALC;;AAMA,QAAMC,UAAU,GAAG,MAAMJ,OAAO,CAAC,IAAD,CAAhC;;AAGFrB,EAAAA,SAAS,CAAC,MAAM;AACdyB,IAAAA,UAAU;AACX,GAFQ,EAEN,CAACZ,KAAK,CAACO,IAAP,CAFM,CAAT;AAIE,QAAMM,aAAa,GAAG;AACpBC,IAAAA,QAAQ,EAAE,EADU;AAEpBC,IAAAA,KAAK,EAAE,EAFa;AAGpBC,IAAAA,QAAQ,EAAE,EAHU;AAIpBC,IAAAA,oBAAoB,EAAE,EAJF;AAKpBC,IAAAA,IAAI,EAAC;AALe,GAAtB;;AAQA,QAAMC,aAAa,GAAG,MAAM;AAC1Bf,IAAAA,UAAU,CAAC,IAAD,CAAV;AACD,GAFD;;AAGA,QAAMgB,cAAc,GAAG,MAAM;AAC3BhB,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAFD;;AAIA,QAAMiB,eAAe,GAAIC,SAAD,IAAe;AACrC,QAAIC,MAAM,CAACC,OAAP,CAAeF,SAAf,KAA6BC,MAAM,CAACE,MAAP,CAAcH,SAAd,CAAjC,EAA2D;AACzD,aAAO,YAAP;AACD;;AACD,QAAIC,MAAM,CAACC,OAAP,CAAeF,SAAf,KAA6B,CAACC,MAAM,CAACE,MAAP,CAAcH,SAAd,CAAlC,EAA4D;AAC1D,aAAO,UAAP;AACD;;AACD,WAAO,EAAP;AACD,GARD;;AAUA,QAAMI,UAAU,GAAG,CAACC,KAAD,EAAQ;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,GAAR,KAAyC;AAC1D,UAAMf,QAAQ,GAAGa,KAAK,CAACb,QAAvB;AACA,UAAMC,KAAK,GAAGY,KAAK,CAACZ,KAApB;AACA,UAAMC,QAAQ,GAAGW,KAAK,CAACX,QAAvB,CAH0D,CAI1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAc,IAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACA/B,IAAAA,OAAO;AACPwB,IAAAA,cAAc;AACdS,IAAAA,aAAa,CAAC,KAAD,CAAb;AACAN,IAAAA,MAAM,CAACS,WAAP;AACAvB,IAAAA,WAAW,GArB+C,CAsB1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,GAhCD;;AAkCA,QAAMwB,SAAS,GAAG5C,GAAG,CAAC6C,MAAJ,GAAaC,KAAb,CAAmB;AACnCrB,IAAAA,QAAQ,EAAEzB,GAAG,CAAC+C,MAAJ,GACPC,GADO,CACH,CADG,EACA,mBADA,EAEPC,GAFO,CAEH,EAFG,EAEC,oBAFD,EAGPC,QAHO,CAGE,UAHF,CADyB;AAKnCxB,IAAAA,KAAK,EAAE1B,GAAG,CAAC+C,MAAJ,GACJrB,KADI,CACE,eADF,EAEJwB,QAFI,CAEK,UAFL,CAL4B;AAQnCvB,IAAAA,QAAQ,EAAE3B,GAAG,CAAC+C,MAAJ,GACPI,KADO,CACD,CAACnD,GAAG,CAACoD,GAAJ,CAAQ,sBAAR,CAAD,EAAkC,IAAlC,CADC,EACwC,sBADxC,EAEPJ,GAFO,CAEH,CAFG,EAEA,mBAFA,EAGPE,QAHO,CAGE,UAHF,CARyB;AAYnCtB,IAAAA,oBAAoB,EAAE5B,GAAG,CAAC+C,MAAJ,GACnBI,KADmB,CACb,CAACnD,GAAG,CAACoD,GAAJ,CAAQ,UAAR,CAAD,EAAsB,IAAtB,CADa,EACgB,sBADhB,EAEnBJ,GAFmB,CAEf,CAFe,EAEZ,mBAFY,EAGnBE,QAHmB,CAGV,UAHU,CAZa;AAgBjCrB,IAAAA,IAAI,EAAE7B,GAAG,CAAC+C,MAAJ,GACLG,QADK,CACI,UADJ;AAhB2B,GAAnB,CAAlB;AAoBA,QAAMhB,MAAM,GAAGnC,SAAS,CAAC;AACvByB,IAAAA,aADuB;AAEvB6B,IAAAA,gBAAgB,EAAET,SAFK;AAGvBU,IAAAA,QAAQ,EAAE,CAAChB,KAAD,EAAQ;AAAEC,MAAAA,SAAF;AAAaC,MAAAA;AAAb,KAAR,KAAyC;AACjDV,MAAAA,aAAa;AACbT,MAAAA,UAAU,CAAC,MAAM;AACfgB,QAAAA,UAAU,CAACC,KAAD,EAAQ;AAAEC,UAAAA,SAAF;AAAaC,UAAAA;AAAb,SAAR,CAAV;AACD,OAFS,EAEP,IAFO,CAAV;AAGD;AARsB,GAAD,CAAxB;AAWA,sBACE,uDACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,IADP;AAEE,uBAAgB,+BAFlB;AAGE,IAAA,IAAI,EAAEtB,IAHR;AAIE,IAAA,MAAM,EAAEE,WAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CANF,eASE,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEGc,MAAM,CAACqB,MAAP,gBACC;AAAK,IAAA,SAAS,EAAC,+DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrB,MAAM,CAACqB,MADV,CADF,CADD,GAMG,IARN,eASE;AAAM,IAAA,QAAQ,EAAErB,MAAM,CAACsB,YAAvB;AAAqC,IAAA,SAAS,EAAC,MAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,kCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAG,iCAAgCxB,eAAe,CACzD,UADyD,CAEzD,EAHJ;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,IAAI,EAAC,MALP;AAME,IAAA,WAAW,EAAC;AANd,KAOME,MAAM,CAACuB,aAAP,CAAqB,UAArB,CAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,EAUGvB,MAAM,CAACC,OAAP,CAAeV,QAAf,IAA2BS,MAAM,CAACE,MAAP,CAAcX,QAAzC,gBACC;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGS,MAAM,CAACE,MAAP,CAAcX,QADjB,CADF,CADD,GAMG,IAhBN,CAJF,CAFF,eA0BE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,kCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAIE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,SAAS,EAAG,iCAAgCO,eAAe,CACzD,OADyD,CAEzD,EALJ;AAME,IAAA,IAAI,EAAC,OANP;AAOE,IAAA,WAAW,EAAC;AAPd,KAQME,MAAM,CAACuB,aAAP,CAAqB,OAArB,CARN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADJ,EAWGvB,MAAM,CAACC,OAAP,CAAeT,KAAf,IAAwBQ,MAAM,CAACE,MAAP,CAAcV,KAAtC,gBACC;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGQ,MAAM,CAACE,MAAP,CAAcV,KADjB,CADF,CADD,GAMG,IAjBN,CAJF,CA1BF,eAmDE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,kCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,SAAS,EAAG,iCAAgCM,eAAe,CACzD,UADyD,CAEzD,EALJ;AAME,IAAA,IAAI,EAAC,UANP;AAOE,IAAA,WAAW,EAAC;AAPd,KAQME,MAAM,CAACuB,aAAP,CAAqB,UAArB,CARN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFF,EAYGvB,MAAM,CAACC,OAAP,CAAeR,QAAf,IAA2BO,MAAM,CAACE,MAAP,CAAcT,QAAzC,gBACC;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGO,MAAM,CAACE,MAAP,CAAcT,QADjB,CADF,CADD,GAMG,IAlBN,CAJF,CAnDF,eA8EE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,kCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAIE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AACE,IAAA,IAAI,EAAC,sBADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,SAAS,EAAG,iCAAgCK,eAAe,CACzD,sBADyD,CAEzD,EALJ;AAME,IAAA,IAAI,EAAC,sBANP;AAOE,IAAA,WAAW,EAAC;AAPd,KAQME,MAAM,CAACuB,aAAP,CAAqB,sBAArB,CARN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFF,EAYGvB,MAAM,CAACC,OAAP,CAAeP,oBAAf,IACDM,MAAM,CAACE,MAAP,CAAcR,oBADb,gBAEC;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGM,MAAM,CAACE,MAAP,CAAcR,oBADjB,CADF,CAFD,GAOG,IAnBN,CAJF,CA9EF,eA0GE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,SAAS,EAAC,kCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAII;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,SAAS,EAAG,iCAAgCI,eAAe,CACzD,MADyD,CAEzD,EALJ;AAME,IAAA,QAAQ,EAAC,MANX;AAOE,IAAA,WAAW,EAAC;AAPd,KAQME,MAAM,CAACuB,aAAP,CAAqB,MAArB,CARN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADJ,EAWKvB,MAAM,CAACC,OAAP,CAAeN,IAAf,IAAuBK,MAAM,CAACE,MAAP,CAAcP,IAArC,gBACC;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGK,MAAM,CAACE,MAAP,CAAcP,IADjB,CADF,CADD,GAMG,IAjBR,CAJJ,CA1GF,CADF,CAFJ,CATF,CADF,CADF,CATF,eAiKE,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAE,MAAMT,WAAW,EAD5B;AAEE,IAAA,OAAO,EAAC,WAFV;AAGE,IAAA,SAAS,EAAC,mDAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eASE,oBAAC,MAAD;AACE,IAAA,EAAE,EAAC,wBADL;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,SAAS,EAAG,iDAHd;AAIE,IAAA,QAAQ,EAAEc,MAAM,CAACwB,YAJnB;AAKE,IAAA,OAAO,EAAC,SALV;AAME,IAAA,OAAO,EAAExB,MAAM,CAACsB,YANlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eASG1C,OAAO,iBAAI;AAAM,IAAA,SAAS,EAAC,4BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATd,CATF,CAjKF,CADF,CADF;AA2LD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport firebase from \"../../config/config\";\nimport Axios from \"axios\";\nimport { Success } from \"../../components/modal/ModalSuccess\";\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\n\nexport default function AddUser(props) {\n  const history = useHistory()\n  const MySwal = withReactContent(Swal);\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [show, setShow] = useState(true);\n  const handleClose = () => {\n    setShow(false)\n    setTimeout(() => {\n      history.goBack()\n    }, 100)\n};\n  const handleShow = () => setShow(true);\n\n\nuseEffect(() => {\n  handleShow()\n}, [props.show])\n\n  const initialValues = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n    role:''\n  };\n\n  const enableLoading = () => {\n    setLoading(true);\n  };\n  const disableLoading = () => {\n    setLoading(false);\n  };\n\n  const getInputClasses = (fieldname) => {\n    if (formik.touched[fieldname] && formik.errors[fieldname]) {\n      return \"is-invalid\";\n    }\n    if (formik.touched[fieldname] && !formik.errors[fieldname]) {\n      return \"is-valid\";\n    }\n    return \"\";\n  };\n\n  const handleedit = (value, { setStatus, setSubmitting }) => {\n    const username = value.username;\n    const email = value.email;\n    const password = value.password;\n    // Axios.post('http://localhost:5001/myspace-dev-1ae9e/us-central1/backoffice-user/newUser'\n    // ,{email,password,phone,firstName,lastName})\n    // .then((res) => {\n    //   setStatus('Success !')\n    //   formik.handleReset()\n    // }).catch((err) => {\n    //   var errorCode = err.code;\n    //   var errorMessage = err.message;\n    //   setStatus(errorCode)\n    //   console.log(errorMessage)\n    // })\n\n    console.log(value);\n    Success();\n    disableLoading();\n    setSubmitting(false);\n    formik.handleReset();\n    handleClose();\n    //  MySwal.fire({\n    //   position: 'center',\n    //   icon: \"success\",\n    //   title: <h1 className=\"display-3\">success</h1>,\n    //   showConfirmButton: false,\n    // }).then(() => {\n    //   disableLoading()\n    //   setSubmitting(false);\n    //   formik.handleReset()\n    // })\n  };\n\n  const Userchema = Yup.object().shape({\n    username: Yup.string()\n      .min(3, \"Minimum 3 symbols\")\n      .max(50, \"Maximum 50 symbols\")\n      .required(\"Required\"),\n    email: Yup.string()\n      .email(\"Invalid email\")\n      .required(\"Required\"),\n    password: Yup.string()\n      .oneOf([Yup.ref(\"passwordConfirmation\"), null], \"Passwords must match\")\n      .min(6, \"Minimum 6 symbols\")\n      .required(\"Required\"),\n    passwordConfirmation: Yup.string()\n      .oneOf([Yup.ref(\"password\"), null], \"Passwords must match\")\n      .min(6, \"Minimum 6 symbols\")\n      .required(\"Required\"),\n      role: Yup.string()\n      .required(\"Required\"),\n  });\n\n  const formik = useFormik({\n    initialValues,\n    validationSchema: Userchema,\n    onSubmit: (value, { setStatus, setSubmitting }) => {\n      enableLoading();\n      setTimeout(() => {\n        handleedit(value, { setStatus, setSubmitting });\n      }, 1000);\n    },\n  });\n\n  return (\n    <>\n      <Modal\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        show={show}\n        onHide={handleClose}\n      >\n        <Modal.Header >\n          <Modal.Title>New User</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"row justify-content-center \">\n            <div className=\"col-xl-12 col-xxl-12\">\n              {/*begin::Form Wizard*/}\n              {formik.status ? (\n                <div className=\"mb-10 alert alert-custom alert-light-danger alert-dismissible\">\n                  <div className=\"alert-text font-weight-bold\">\n                    {formik.status}\n                  </div>\n                </div>\n              ) : null}\n              <form onSubmit={formik.handleSubmit} className=\"form\">\n                {/*begin::Step 1*/}\n                  <div className=\"row\">\n                    <div className=\"col-xl-12\">\n  \n                      <div className=\"form-group row\">\n                        <label className=\"col-xl-3 col-lg-3 col-form-label\">\n                          Username\n                        </label>\n                        <div className=\"col-lg-9 col-xl-9\">\n                          <input\n                            className={`form-control form-control-lg  ${getInputClasses(\n                              \"username\"\n                            )}`}\n                            name=\"username\"\n                            type=\"text\"\n                            placeholder=\"username\"\n                            {...formik.getFieldProps(\"username\")}\n                          />\n                          {formik.touched.username && formik.errors.username ? (\n                            <div className=\"fv-plugins-message-container\">\n                              <div className=\"fv-help-block\">\n                                {formik.errors.username}\n                              </div>\n                            </div>\n                          ) : null}\n                        </div>\n                      </div>\n\n                      <div className=\"form-group row\">\n                        <label className=\"col-xl-3 col-lg-3 col-form-label\">\n                          Email Address\n                        </label>\n                        <div className=\"col-lg-9 col-xl-9\">\n                            <input\n                              name=\"email\"\n                              type=\"email\"\n                              className={`form-control form-control-lg  ${getInputClasses(\n                                \"email\"\n                              )}`}\n                              name=\"email\"\n                              placeholder=\"Email\"\n                              {...formik.getFieldProps(\"email\")}\n                            />\n                          {formik.touched.email && formik.errors.email ? (\n                            <div className=\"fv-plugins-message-container\">\n                              <div className=\"fv-help-block\">\n                                {formik.errors.email}\n                              </div>\n                            </div>\n                          ) : null}\n                        </div>\n                      </div>\n\n                      <div className=\"form-group row\">\n                        <label className=\"col-xl-3 col-lg-3 col-form-label\">\n                          Password\n                        </label>\n                        <div className=\"col-lg-9 col-xl-9\">\n                          {/* <div className=\"input-group input-group-lg input-group-solid\"> */}\n                          <input\n                            name=\"password\"\n                            type=\"password\"\n                            className={`form-control form-control-lg  ${getInputClasses(\n                              \"password\"\n                            )}`}\n                            name=\"password\"\n                            placeholder=\"password\"\n                            {...formik.getFieldProps(\"password\")}\n                          />\n                          {formik.touched.password && formik.errors.password ? (\n                            <div className=\"fv-plugins-message-container\">\n                              <div className=\"fv-help-block\">\n                                {formik.errors.password}\n                              </div>\n                            </div>\n                          ) : null}\n                          {/* </div> */}\n                        </div>\n                      </div>\n\n                      <div className=\"form-group row\">\n                        <label className=\"col-xl-3 col-lg-3 col-form-label\">\n                          passwordConfirmation\n                        </label>\n                        <div className=\"col-lg-9 col-xl-9\">\n                          {/* <div className=\"input-group input-group-lg input-group-solid\"> */}\n                          <input\n                            name=\"passwordConfirmation\"\n                            type=\"password\"\n                            className={`form-control form-control-lg  ${getInputClasses(\n                              \"passwordConfirmation\"\n                            )}`}\n                            name=\"passwordConfirmation\"\n                            placeholder=\"passwordConfirmation\"\n                            {...formik.getFieldProps(\"passwordConfirmation\")}\n                          />\n                          {formik.touched.passwordConfirmation &&\n                          formik.errors.passwordConfirmation ? (\n                            <div className=\"fv-plugins-message-container\">\n                              <div className=\"fv-help-block\">\n                                {formik.errors.passwordConfirmation}\n                              </div>\n                            </div>\n                          ) : null}\n                          {/* </div> */}\n                        </div>\n                      </div>\n\n                      <div className=\"form-group row\">\n                          <label className=\"col-xl-3 col-lg-3 col-form-label\">\n                          role :\n                          </label>\n                          <div className=\"col-lg-9 col-xl-9\">\n                              <input\n                                name=\"role\"\n                                type=\"text\"\n                                className={`form-control form-control-lg  ${getInputClasses(\n                                  \"role\"\n                                )}`}\n                                readOnly=\"true\"\n                                placeholder=\"role\"\n                                {...formik.getFieldProps(\"role\")}\n                              />\n                              {formik.touched.role && formik.errors.role ? (\n                                <div className=\"fv-plugins-message-container\">\n                                  <div className=\"fv-help-block\">\n                                    {formik.errors.role}\n                                  </div>\n                                </div>\n                              ) : null}\n                          </div>\n                        </div>\n                    </div>\n                  </div>\n                {/*end::Step 1*/}\n              </form>\n              {/*end::Form Wizard*/}\n            </div>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button\n            onClick={() => handleClose() }\n            variant=\"secondary\"\n            className=\"btn btn-secondary font-weight-bold px-9 py-4 mr-3\"\n          >\n            cancel\n          </Button>\n\n          <Button\n            id=\"kt_login_signin_submit\"\n            type=\"submit\"\n            className={`btn btn-success font-weight-bold px-9 py-4 my-3`}\n            disabled={formik.isSubmitting}\n            variant=\"success\"\n            onClick={formik.handleSubmit}\n          >\n            submit\n            {loading && <span className=\"ml-3 spinner spinner-white\"></span>}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
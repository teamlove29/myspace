{"ast":null,"code":"import objectPath from \"object-path\";\nimport { toAbsoluteUrl } from \"../../_helpers\";\nexport class HtmlClassService {\n  // Public properties\n\n  /**\n   * Build html element classes from layout config\n   * @param layoutConfig\n   */\n  setConfig(layoutConfig) {\n    this.config = this.preInit(layoutConfig); // scope list of classes\n\n    this.classes = {\n      header: [],\n      header_container: [],\n      header_mobile: [],\n      header_menu: [],\n      aside: [],\n      aside_menu: [],\n      subheader: [],\n      subheader_container: [],\n      content: [],\n      content_container: [],\n      footer_container: []\n    };\n    this.attributes = {\n      aside_menu: {},\n      header_mobile: {},\n      header_menu: {}\n    }; // init base layout\n\n    this.initLayout();\n    this.initLoader(); // init header and subheader menu\n\n    this.initHeader();\n    this.initSubheader();\n    this.initContent(); // init aside and aside menu\n\n    this.initAside(); // init footer\n\n    this.initFooter(); // init theme\n\n    this.initTheme();\n  }\n\n  preInit(layoutConfig) {\n    const updatedConfig = Object.assign({}, layoutConfig);\n    const headerSelfFixedDesktop = objectPath.get(updatedConfig, \"header.self.fixed.desktop\");\n    const subheaderFixed = objectPath.get(updatedConfig, \"subheader.fixed\");\n\n    if (subheaderFixed && headerSelfFixedDesktop) {\n      // Page::setOption('layout', 'subheader/style', 'solid');\n      updatedConfig.subheader.style = \"solid\";\n    } else {\n      // Page::setOption('layout', 'subheader/fixed', false);\n      updatedConfig.subheader.fixed = false;\n    }\n\n    return updatedConfig;\n  }\n  /**\n   * Returns Classes\n   *\n   * @param path: string\n   * @param toString boolean\n   */\n\n\n  getClasses(path, toString) {\n    if (path) {\n      const classes = objectPath.get(this.classes, path) || \"\";\n\n      if (toString && Array.isArray(classes)) {\n        return classes.join(\" \");\n      }\n\n      return classes.toString();\n    }\n\n    return this.classes;\n  }\n\n  getAttributes(path) {\n    if (path) {\n      const attributes = objectPath.get(this.attributes, path) || [];\n      return attributes;\n    }\n\n    return [];\n  }\n\n  getLogo() {\n    const brandSkin = objectPath.get(this.config, \"brand.self.theme\");\n\n    if (brandSkin === \"light\") {\n      return toAbsoluteUrl(\"/media/logos/logo-dark.png\");\n    } else {\n      return toAbsoluteUrl(\"/media/logos/logo-light.png\");\n    }\n  }\n\n  getStickyLogo() {\n    let logo = objectPath.get(this.config, \"self.logo.sticky\");\n\n    if (typeof logo === \"undefined\") {\n      logo = this.getLogo();\n    }\n\n    return logo + \"\";\n  }\n  /**\n   * Init Layout\n   */\n\n\n  initLayout() {\n    const selfBodyBackgroundImage = objectPath.get(this.config, \"self.body.background-image\");\n\n    if (selfBodyBackgroundImage) {\n      document.body.style.backgroundImage = `url(\"${selfBodyBackgroundImage}'\")`;\n    }\n\n    const _selfBodyClass = objectPath.get(this.config, \"self.body.class\");\n\n    if (_selfBodyClass) {\n      const bodyClasses = _selfBodyClass.toString().split(\" \");\n\n      bodyClasses.forEach(cssClass => document.body.classList.add(cssClass));\n    } // Offcanvas directions\n\n\n    document.body.classList.add(\"quick-panel-right\");\n    document.body.classList.add(\"demo-panel-right\");\n    document.body.classList.add(\"offcanvas-right\");\n  }\n  /**\n   * Init Loader\n   */\n\n\n  initLoader() {}\n  /**\n   * Init Header\n   */\n\n\n  initHeader() {\n    // Fixed header\n    const headerSelfFixedDesktop = objectPath.get(this.config, \"header.self.fixed.desktop\");\n\n    if (headerSelfFixedDesktop) {\n      document.body.classList.add(\"header-fixed\");\n      objectPath.push(this.classes, \"header\", \"header-fixed\");\n    } else {\n      document.body.classList.add(\"header-static\");\n    }\n\n    const headerSelfFixedMobile = objectPath.get(this.config, \"header.self.fixed.mobile\");\n\n    if (headerSelfFixedMobile) {\n      document.body.classList.add(\"header-mobile-fixed\");\n      objectPath.push(this.classes, \"header_mobile\", \"header-mobile-fixed\");\n    } // Menu\n\n\n    const headerMenuSelfDisplay = objectPath.get(this.config, \"header.menu.self.display\");\n\n    if (headerMenuSelfDisplay) {\n      const headerMenuSelfLayout = objectPath.get(this.config, \"header.menu.self.layout\");\n      const headerMenuLayoutCssClass = `header-menu-layout-${headerMenuSelfLayout}`;\n      objectPath.push(this.classes, \"header_menu\", headerMenuLayoutCssClass);\n\n      if (objectPath.get(this.config, \"header.menu.self.root-arrow\")) {\n        objectPath.push(this.classes, \"header_menu\", \"header-menu-root-arrow\");\n      }\n    }\n\n    const headerSelfWidth = objectPath.get(this.config, \"header.self.width\");\n\n    if (headerSelfWidth === \"fluid\") {\n      objectPath.push(this.classes, \"header_container\", \"container-fluid\");\n    } else {\n      objectPath.push(this.classes, \"header_container\", \"container\");\n    }\n  }\n  /**\n   * Init Subheader\n   */\n\n\n  initSubheader() {\n    const subheaderDisplay = objectPath.get(this.config, \"subheader.display\");\n\n    if (subheaderDisplay) {\n      document.body.classList.add(\"subheader-enabled\");\n    } else {\n      return;\n    } // Fixed content head\n\n\n    const subheaderFixed = objectPath.get(this.config, \"subheader.fixed\");\n    const headerSelfFixedDesktop = objectPath.get(this.config, \"header.self.fixed.desktop\");\n\n    if (subheaderFixed && headerSelfFixedDesktop) {\n      document.body.classList.add(\"subheader-fixed\"); // Page::setOption('layout', 'subheader/style', 'solid'); => See preInit()\n    } else {// Page::setOption('layout', 'subheader/fixed', false); => See preInit()\n      }\n\n    const subheaderStyle = objectPath.get(this.config, \"subheader.style\");\n\n    if (subheaderStyle) {\n      const subheaderClass = `subheader-${subheaderStyle}`;\n      objectPath.push(this.classes, \"subheader\", subheaderClass);\n    }\n\n    const subheaderWidth = objectPath.get(this.config, \"subheader.width\");\n\n    if (subheaderWidth === \"fluid\") {\n      objectPath.push(this.classes, \"subheader_container\", \"container-fluid\");\n    } else {\n      objectPath.push(this.classes, \"subheader_container\", \"container\");\n    }\n\n    if (objectPath.get(this.config, \"subheader.clear\")) {\n      objectPath.push(this.classes, \"subheader\", \"mb-0\");\n    }\n  }\n  /**\n   * Init Content\n   */\n\n\n  initContent() {\n    if (objectPath.get(this.config, \"content.fit-top\")) {\n      objectPath.push(this.classes, \"content\", \"pt-0\");\n    }\n\n    if (objectPath.get(this.config, \"content.fit-bottom\")) {\n      objectPath.push(this.classes, \"content\", \"pb-0\");\n    }\n\n    if (objectPath.get(this.config, \"content.width\") === \"fluid\") {\n      objectPath.push(this.classes, \"content_container\", \"container-fluid\");\n    } else {\n      objectPath.push(this.classes, \"content_container\", \"container\");\n    }\n  }\n  /**\n   * Init Aside\n   */\n\n\n  initAside() {\n    // Check Aside\n    const asideSelfDisplay = objectPath.get(this.config, \"aside.self.display\");\n\n    if (!asideSelfDisplay) {\n      return;\n    } // Enable Aside\n\n\n    document.body.classList.add(\"aside-enabled\"); // Fixed Aside\n\n    const asideSelfFixed = objectPath.get(this.config, \"aside.self.fixed\");\n\n    if (asideSelfFixed) {\n      document.body.classList.add(\"aside-fixed\");\n      objectPath.push(this.classes, \"aside\", \"aside-fixed\");\n    } else {\n      document.body.classList.add(\"aside-static\");\n    } // Check Aside\n\n\n    if (!asideSelfDisplay) {\n      return;\n    } // Default fixed\n\n\n    if (objectPath.get(this.config, \"aside.self.minimize.default\")) {\n      document.body.classList.add(\"aside-minimize\");\n    }\n\n    if (objectPath.get(this.config, \"aside.self.minimize.hoverable\")) {\n      document.body.classList.add(\"aside-minimize-hoverable\");\n    } // Menu\n    // Dropdown Submenu\n\n\n    const asideMenuDropdown = objectPath.get(this.config, \"aside.menu.dropdown\");\n\n    if (asideMenuDropdown) {\n      objectPath.push(this.classes, \"aside_menu\", \"aside-menu-dropdown\");\n      this.attributes.aside_menu[\"data-menu-dropdown\"] = \"1\";\n    } // Scrollable Menu\n\n\n    this.attributes.aside_menu[\"data-menu-scroll\"] = asideMenuDropdown ? \"0\" : \"1\";\n    const asideSubmenuDHoverTimeout = objectPath.get(this.config, \"aside.menu.submenu.dropdown.hover-timeout\");\n\n    if (asideSubmenuDHoverTimeout) {\n      this.attributes.aside_menu[\"data-menu-dropdown-timeout\"] = asideSubmenuDHoverTimeout;\n    }\n  }\n  /**\n   * Init Footer\n   */\n\n\n  initFooter() {\n    // Fixed header\n    if (objectPath.get(this.config, \"footer.fixed\")) {\n      document.body.classList.add(\"footer-fixed\");\n    }\n\n    if (objectPath.get(this.config, \"footer.self.width\") === \"fluid\") {\n      objectPath.push(this.classes, \"footer_container\", \"container-fluid\");\n    } else {\n      objectPath.push(this.classes, \"footer_container\", \"container\");\n    }\n  }\n  /** Init Theme */\n\n\n  initTheme() {\n    const asideSelfDisplay = objectPath.get(this.config, \"aside.self.display\");\n\n    if (!asideSelfDisplay) {\n      const headerSelfTheme = objectPath.get(this.config, \"header.self.theme\");\n      document.body.classList.add(`brand-${headerSelfTheme}`);\n    } else {\n      const brandSelfTheme = objectPath.get(this.config, \"brand.self.theme\");\n      document.body.classList.add(`brand-${brandSelfTheme}`);\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/teem/Developer/lampang-myspace/backoffice/src/_metronic/layout/_core/HTMLClassService.js"],"names":["objectPath","toAbsoluteUrl","HtmlClassService","setConfig","layoutConfig","config","preInit","classes","header","header_container","header_mobile","header_menu","aside","aside_menu","subheader","subheader_container","content","content_container","footer_container","attributes","initLayout","initLoader","initHeader","initSubheader","initContent","initAside","initFooter","initTheme","updatedConfig","Object","assign","headerSelfFixedDesktop","get","subheaderFixed","style","fixed","getClasses","path","toString","Array","isArray","join","getAttributes","getLogo","brandSkin","getStickyLogo","logo","selfBodyBackgroundImage","document","body","backgroundImage","_selfBodyClass","bodyClasses","split","forEach","cssClass","classList","add","push","headerSelfFixedMobile","headerMenuSelfDisplay","headerMenuSelfLayout","headerMenuLayoutCssClass","headerSelfWidth","subheaderDisplay","subheaderStyle","subheaderClass","subheaderWidth","asideSelfDisplay","asideSelfFixed","asideMenuDropdown","asideSubmenuDHoverTimeout","headerSelfTheme","brandSelfTheme"],"mappings":"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","sourcesContent":["import objectPath from \"object-path\";\nimport {toAbsoluteUrl} from \"../../_helpers\";\n\nexport class HtmlClassService {\n  // Public properties\n  config;\n  classes;\n  attributes;\n\n  /**\n   * Build html element classes from layout config\n   * @param layoutConfig\n   */\n  setConfig(layoutConfig) {\n    this.config = this.preInit(layoutConfig);\n\n    // scope list of classes\n    this.classes = {\n      header: [],\n      header_container: [],\n      header_mobile: [],\n      header_menu: [],\n      aside: [],\n      aside_menu: [],\n      subheader: [],\n      subheader_container: [],\n      content: [],\n      content_container: [],\n      footer_container: []\n    };\n\n    this.attributes = {\n      aside_menu: {},\n      header_mobile: {},\n      header_menu: {}\n    };\n\n    // init base layout\n    this.initLayout();\n    this.initLoader();\n\n    // init header and subheader menu\n    this.initHeader();\n    this.initSubheader();\n\n    this.initContent();\n    // init aside and aside menu\n    this.initAside();\n\n    // init footer\n    this.initFooter();\n\n    // init theme\n    this.initTheme();\n  }\n\n  preInit(layoutConfig) {\n    const updatedConfig = Object.assign({}, layoutConfig);\n    const headerSelfFixedDesktop = objectPath.get(updatedConfig, \"header.self.fixed.desktop\");\n    const subheaderFixed = objectPath.get(updatedConfig, \"subheader.fixed\");\n    if (subheaderFixed && headerSelfFixedDesktop) {\n      // Page::setOption('layout', 'subheader/style', 'solid');\n      updatedConfig.subheader.style = \"solid\";      \n    } else {\n      // Page::setOption('layout', 'subheader/fixed', false);\n      updatedConfig.subheader.fixed = false;\n    }\n    return updatedConfig;\n  }\n\n  /**\n   * Returns Classes\n   *\n   * @param path: string\n   * @param toString boolean\n   */\n  getClasses(path, toString) {\n    if (path) {\n      const classes = objectPath.get(this.classes, path) || \"\";\n      if (toString && Array.isArray(classes)) {\n        return classes.join(\" \");\n      }\n      return classes.toString();\n    }\n    return this.classes;\n  }\n\n  getAttributes(path) {\n    if (path) {\n      const attributes = objectPath.get(this.attributes, path) || [];\n      return attributes;\n    }\n    return [];\n  }\n\n  getLogo() {\n    const brandSkin = objectPath.get(this.config, \"brand.self.theme\");\n    if (brandSkin === \"light\") {\n      return toAbsoluteUrl(\"/media/logos/logo-dark.png\");\n    } else {\n      return toAbsoluteUrl(\"/media/logos/logo-light.png\");\n    }\n  }\n\n  getStickyLogo() {\n    let logo = objectPath.get(this.config, \"self.logo.sticky\");\n    if (typeof logo === \"undefined\") {\n      logo = this.getLogo();\n    }\n    return logo + \"\";\n  }\n\n  /**\n   * Init Layout\n   */\n  initLayout() {\n    const selfBodyBackgroundImage = objectPath.get(this.config, \"self.body.background-image\");\n    if (selfBodyBackgroundImage) {\n      document.body.style.backgroundImage = `url(\"${selfBodyBackgroundImage}'\")`;\n    }\n\n    const _selfBodyClass = objectPath.get(this.config, \"self.body.class\");\n    if (_selfBodyClass) {\n      const bodyClasses = _selfBodyClass.toString().split(\" \");\n      bodyClasses.forEach(cssClass => document.body.classList.add(cssClass));\n    }\n\n    // Offcanvas directions\n    document.body.classList.add(\"quick-panel-right\");\n    document.body.classList.add(\"demo-panel-right\");\n    document.body.classList.add(\"offcanvas-right\");\n  }\n\n  /**\n   * Init Loader\n   */\n  initLoader() {}\n\n  /**\n   * Init Header\n   */\n  initHeader() {\n    // Fixed header\n    const headerSelfFixedDesktop = objectPath.get(this.config, \"header.self.fixed.desktop\");\n    if (headerSelfFixedDesktop) {\n      document.body.classList.add(\"header-fixed\");\n      objectPath.push(this.classes, \"header\", \"header-fixed\");\n    } else {\n      document.body.classList.add(\"header-static\");\n    }\n\n    const headerSelfFixedMobile  = objectPath.get(this.config, \"header.self.fixed.mobile\");\n    if (headerSelfFixedMobile) {\n      document.body.classList.add(\"header-mobile-fixed\");\n      objectPath.push(this.classes, \"header_mobile\", \"header-mobile-fixed\");\n    }\n\n    // Menu\n    const headerMenuSelfDisplay = objectPath.get(this.config, \"header.menu.self.display\");\n    if (headerMenuSelfDisplay) {\n      const headerMenuSelfLayout = objectPath.get(this.config, \"header.menu.self.layout\");\n      const headerMenuLayoutCssClass = `header-menu-layout-${headerMenuSelfLayout}`;\n      objectPath.push(this.classes, \"header_menu\", headerMenuLayoutCssClass);\n\n            if (objectPath.get(this.config, \"header.menu.self.root-arrow\")) {\n        objectPath.push(this.classes, \"header_menu\", \"header-menu-root-arrow\");\n      }\n    }\n\n    const headerSelfWidth = objectPath.get(this.config, \"header.self.width\");\n    if (headerSelfWidth === \"fluid\") {\n      objectPath.push(this.classes, \"header_container\", \"container-fluid\");\n    } else {\n      objectPath.push(this.classes, \"header_container\", \"container\");\n    }\n  }\n\n  /**\n   * Init Subheader\n   */\n  initSubheader() {\n    const subheaderDisplay = objectPath.get(this.config, \"subheader.display\");\n    if (subheaderDisplay) {\n      document.body.classList.add(\"subheader-enabled\");\n    } else {\n      return;\n    }\n\n    // Fixed content head\n    const subheaderFixed = objectPath.get(this.config, \"subheader.fixed\");\n    const headerSelfFixedDesktop = objectPath.get(this.config, \"header.self.fixed.desktop\");\n    if (subheaderFixed && headerSelfFixedDesktop) {\n      document.body.classList.add(\"subheader-fixed\");\n      // Page::setOption('layout', 'subheader/style', 'solid'); => See preInit()\n    } else {\n      // Page::setOption('layout', 'subheader/fixed', false); => See preInit()\n    }\n\n    const subheaderStyle = objectPath.get(this.config, \"subheader.style\");\n    if (subheaderStyle) {\n      const subheaderClass = `subheader-${subheaderStyle}`;\n      objectPath.push(this.classes, \"subheader\", subheaderClass);\n    }\n\n    const subheaderWidth = objectPath.get(this.config, \"subheader.width\");\n    if (subheaderWidth === \"fluid\") {\n      objectPath.push(this.classes, \"subheader_container\", \"container-fluid\");\n    } else {\n      objectPath.push(this.classes, \"subheader_container\", \"container\");\n    }\n\n    if (objectPath.get(this.config, \"subheader.clear\")) {\n      objectPath.push(this.classes, \"subheader\", \"mb-0\");\n    }\n  }\n\n  /**\n   * Init Content\n   */\n  initContent() {\n    if (objectPath.get(this.config, \"content.fit-top\")) {\n      objectPath.push(this.classes, \"content\", \"pt-0\");\n    }\n\n    if (objectPath.get(this.config, \"content.fit-bottom\")) {\n      objectPath.push(this.classes, \"content\", \"pb-0\");\n    }\n\n    if (objectPath.get(this.config, \"content.width\") === \"fluid\") {\n      objectPath.push(this.classes, \"content_container\", \"container-fluid\");\n    } else {\n      objectPath.push(this.classes, \"content_container\", \"container\");\n    }\n  }\n\n  /**\n   * Init Aside\n   */\n  initAside() {\n    // Check Aside\n    const asideSelfDisplay = objectPath.get(this.config, \"aside.self.display\");\n    if (!asideSelfDisplay) {\n      return;\n    }\n\n    // Enable Aside\n    document.body.classList.add(\"aside-enabled\");\n\n    // Fixed Aside\n    const asideSelfFixed = objectPath.get(this.config, \"aside.self.fixed\");\n    if (asideSelfFixed) {\n      document.body.classList.add(\"aside-fixed\");\n      objectPath.push(this.classes, \"aside\", \"aside-fixed\");\n    } else {\n      document.body.classList.add(\"aside-static\");\n    }\n\n    // Check Aside\n    if (!asideSelfDisplay) {\n      return;\n    }\n\n    // Default fixed\n    if (objectPath.get(this.config, \"aside.self.minimize.default\")) {\n      document.body.classList.add(\"aside-minimize\");\n    }\n\n    if (objectPath.get(this.config, \"aside.self.minimize.hoverable\")) {\n      document.body.classList.add(\"aside-minimize-hoverable\");\n    }\n\n    // Menu\n    // Dropdown Submenu\n    const asideMenuDropdown = objectPath.get(this.config, \"aside.menu.dropdown\");\n    if (asideMenuDropdown) {\n      objectPath.push(this.classes, \"aside_menu\", \"aside-menu-dropdown\");\n      this.attributes.aside_menu[\"data-menu-dropdown\"] = \"1\";\n    }\n\n    // Scrollable Menu\n    this.attributes.aside_menu[\"data-menu-scroll\"] = asideMenuDropdown ? \"0\" : \"1\";\n\n    const asideSubmenuDHoverTimeout = objectPath.get(\n      this.config,\n      \"aside.menu.submenu.dropdown.hover-timeout\"\n    );\n    if (asideSubmenuDHoverTimeout) {\n      this.attributes.aside_menu[\n        \"data-menu-dropdown-timeout\"\n      ] = asideSubmenuDHoverTimeout;\n    }\n  }\n\n  /**\n   * Init Footer\n   */\n  initFooter() {\n    // Fixed header\n    if (objectPath.get(this.config, \"footer.fixed\")) {\n      document.body.classList.add(\"footer-fixed\");\n    }\n\n    if (objectPath.get(this.config, \"footer.self.width\") === \"fluid\") {\n      objectPath.push(this.classes, \"footer_container\", \"container-fluid\");\n    } else {\n      objectPath.push(this.classes, \"footer_container\", \"container\");\n    }\n  }\n\n  /** Init Theme */\n  initTheme() {\n    const asideSelfDisplay = objectPath.get(this.config, \"aside.self.display\");\n    if (!asideSelfDisplay) {\n      const headerSelfTheme = objectPath.get(this.config, \"header.self.theme\");\n      document.body.classList.add(`brand-${headerSelfTheme}`);\n    } else {\n      const brandSelfTheme = objectPath.get(this.config, \"brand.self.theme\");\n      document.body.classList.add(`brand-${brandSelfTheme}`);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}